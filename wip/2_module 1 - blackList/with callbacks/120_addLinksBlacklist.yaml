  #/v1/add-links-to-black-list:
    #callbacks:
      #RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation:
        #GetCurrentAssignments:
        #GetCurrentBlackList:
        #RemoveFromActivationQueue:
        #AddToDeactivationQueue:

  /v1/add-links-to-black-list:
    parameters:
      - $ref: '#/components/parameters/user'
      - $ref: '#/components/parameters/originator'
      - $ref: '#/components/parameters/x-correlator'
      - $ref: '#/components/parameters/trace-indicator'
      - $ref: '#/components/parameters/customer-journey'  
    post:
      operationId: addLinksToBlackList
      summary: 'Adds links to the blackList'
      tags:
        - IndividualServices
      security:
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - link-id-list
              properties:
                link-id-list:
                  type: array
                  items:
                    type: string
                    description: 'The linkId to be added to the blackList'
            example:
              link-id-list:
                - '101550001'
                - '203550045'
      responses:
        '204':
          description: 'Links added to blackList'
          headers:
            x-correlator:
              schema:
                type: string
                example: '550e8400-e29b-11d4-a716-446655440000'
              description: 'UUID for the service execution flow that allows to correlate requests and responses. Its value must be identical at the response compared with its corresponding request'
            exec-time:
              schema:
                type: integer
                example: 1100
              description: 'Value written by the service provider, reporting the total elapsed time for the execution, including all the additional processing needed to retrieve the data from the backend service. Expressed in milliseconds'
            backend-time:
              schema:
                type: integer
                example: 850
              description: 'Value written by the service provider, reporting the elapsed time for data retrieval from the backend (service invocation, database access…). Expressed in milliseconds'
            life-cycle-state:
              schema:
                type: string
                enum:
                  - 'EXPERIMENTAL'
                  - 'OPERATIONAL'
                  - 'DEPRECATED'
                  - 'OBSOLETE'
                  - 'UNKNOWN'
                  - 'NOT_YET_DEFINED'
                example: 'EXPERIMENTAL'
              description: >
                'Life cycle state of the consumed service
                find in [/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-op-s-is-120/layer-protocol=0/operation-server-interface-1-0:operation-server-interface-pac/operation-server-interface-configuration/life-cycle-state]'
        '4XX':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        '500':
          $ref: '#/components/responses/responseForErroredServiceRequests'
        default:
          $ref: '#/components/responses/responseForErroredServiceRequests'
      callbacks:
        RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation:
          GetCurrentAssignments: #[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-protocol]://[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/ip-address/ipv-4-address or /core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/domain-name]:[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-port][/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-op-c-is-aips-0-0-10-120/layer-protocol=0/operation-client-interface-1-0:operation-client-interface-pac/operation-client-interface-configuration/operation-name]
            # calls /v1/list-links
            post:
              parameters:
                - $ref: '#/components/parameters/user'
                - $ref: '#/components/parameters/originator'
                - $ref: '#/components/parameters/x-correlator'
                - $ref: '#/components/parameters/trace-indicator'
                - $ref: '#/components/parameters/customer-journey'
              requestBody:
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        link-id-list:
                          type: array
                          items:
                            type: string
                          description: >
                            'List of identifiers of microwave links for which to get the current assignments
                            from {request.body#link-id-list}'
                    example:
                      link-id-list:
                        - '101550001'
                        - '305251234'
              responses:
                '200':
                  description: 'List of staticList link information filtered for given link-id-list'
                  content:
                    application/json:
                      schema:
                        type: object
                        properties:
                          static-list:
                            type: array
                            items:
                              type: object
                              properties:
                                link-id:
                                  type: string
                                assigned-automation-names:
                                  type: array
                                  items:
                                    type: string
                      example:
                        static-list:
                          - link-id: '101550001'
                            assigned-automation-names:
                              - 'TimeBasedPowerSaving'
                          - link-id: '305251234'
                            assigned-automation-names:
                              - 'TimeBasedPowerSaving'
                  headers:
                    x-correlator:
                      schema:
                        type: string
                        example: '550e8400-e29b-11d4-a716-446655440000'
                      description: 'UUID for the service execution flow that allows to correlate requests and responses. Its value must be identical at the response compared with its corresponding request'
                    exec-time:
                      schema:
                        type: integer
                        example: 1100
                      description: 'Value written by the service provider, reporting the total elapsed time for the execution, including all the additional processing needed to retrieve the data from the backend service. Expressed in milliseconds'
                    backend-time:
                      schema:
                        type: integer
                        example: 850
                      description: 'Value written by the service provider, reporting the elapsed time for data retrieval from the backend (service invocation, database access…). Expressed in milliseconds'
                    life-cycle-state:
                      schema:
                        type: string
                        enum:
                          - 'EXPERIMENTAL'
                          - 'OPERATIONAL'
                          - 'DEPRECATED'
                          - 'OBSOLETE'
                          - 'UNKNOWN'
                          - 'NOT_YET_DEFINED'
                        example: 'EXPERIMENTAL'
                      description: 'Life cycle state of the consumed service'
                '4XX':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                '500':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                default:
                  $ref: '#/components/responses/responseForErroredServiceRequests'
          GetCurrentBlackList: #[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-protocol]://[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/ip-address/ipv-4-address or /core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/domain-name]:[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-port][/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-op-c-is-aips-0-0-10-121/layer-protocol=0/operation-client-interface-1-0:operation-client-interface-pac/operation-client-interface-configuration/operation-name]
            # calls /v1/list-links-in-black-list
            post:
              parameters:
                - $ref: '#/components/parameters/user'
                - $ref: '#/components/parameters/originator'
                - $ref: '#/components/parameters/x-correlator'
                - $ref: '#/components/parameters/trace-indicator'
                - $ref: '#/components/parameters/customer-journey'
              responses:
                '200':
                  description: 'Lists linkIds in the blackList'
                  content:
                    application/json:
                      schema:
                        type: object
                        required:
                          - link-id-list
                        properties:
                          link-id-list:
                            type: array
                            items:
                              type: string
                      example:
                          link-id-list:
                            - '101558888'
                            - '203550001'
                  headers:
                    x-correlator:
                      schema:
                        type: string
                        example: '550e8400-e29b-11d4-a716-446655440000'
                      description: 'UUID for the service execution flow that allows to correlate requests and responses. Its value must be identical at the response compared with its corresponding request'
                    exec-time:
                      schema:
                        type: integer
                        example: 1100
                      description: 'Value written by the service provider, reporting the total elapsed time for the execution, including all the additional processing needed to retrieve the data from the backend service. Expressed in milliseconds'
                    backend-time:
                      schema:
                        type: integer
                        example: 850
                      description: 'Value written by the service provider, reporting the elapsed time for data retrieval from the backend (service invocation, database access…). Expressed in milliseconds'
                    life-cycle-state:
                      schema:
                        type: string
                        enum:
                          - 'EXPERIMENTAL'
                          - 'OPERATIONAL'
                          - 'DEPRECATED'
                          - 'OBSOLETE'
                          - 'UNKNOWN'
                          - 'NOT_YET_DEFINED'
                        example: 'EXPERIMENTAL'
                      description: 'Life cycle state of the consumed service'
                '4XX':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                '500':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                default:
                  $ref: '#/components/responses/responseForErroredServiceRequests'
          RemoveFromActivationQueue: #[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-protocol]://[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/ip-address/ipv-4-address or /core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/domain-name]:[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-port][/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-op-c-is-aips-0-0-10-122/layer-protocol=0/operation-client-interface-1-0:operation-client-interface-pac/operation-client-interface-configuration/operation-name]
            # calls /v1/remove-links-from-power-saving-activation-queue, repeated for each automationName in listOfUniqueAutomationNames and related affectedLinkIdList
            post:
              parameters:
                - $ref: '#/components/parameters/user'
                - $ref: '#/components/parameters/originator'
                - $ref: '#/components/parameters/x-correlator'
                - $ref: '#/components/parameters/trace-indicator'
                - $ref: '#/components/parameters/customer-journey'
              requestBody:
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        link-id-list:
                          type: array
                          items:
                            type: string
                          description: > 
                            'The list of linkIds for the currently processed automationName (= affectLinkIdList)
                            from: WITH currently processed automationName from {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.RemoveFromActivationQueue.request.body#automation-name},
                              and addedLinkIdList = all linkIds newly added to the blackList (linkIds from {request.body#link-id-list} which are not included in {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.GetCurrentBlackList.response.body#link-id-list}),
                            affectLinkIdList = all linkIds from addedLinkIdList, where the links assigned automationNames from {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.GetCurrentAssignments.response.body#static-list/assigned-automation-names}
                            contain the currently processed automationName.'
                        automation-name:
                          type: string
                          description: >
                            'The currently processed automation name from listOfUniqueAutomationNames
                            from: WITH addedLinkIdList = all linkIds newly added to the blackList (linkIds from {request.body#link-id-list} which are not included in {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.GetCurrentBlackList.response.body#link-id-list})
                              and listOfUniqueAutomationNames = unique automationNames across all linkIds in addedLinkIdList from the respective linkId data {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.GetCurrentAssignments.response.body#static-list/assigned-automation-names},
                            select the automationName from listOfUniqueAutomationNames iteratively.'
                    example:
                      link-id-list:
                        - '101550001'
                        - '203550045'
                      automation-name: 'TimeBasedPowerSaving'
              responses:
                '204':
                  description: 'Links removed from SimpleActiviationQueue'
                  headers:
                    x-correlator:
                      schema:
                        type: string
                        example: '550e8400-e29b-11d4-a716-446655440000'
                      description: 'UUID for the service execution flow that allows to correlate requests and responses. Its value must be identical at the response compared with its corresponding request'
                    exec-time:
                      schema:
                        type: integer
                        example: 1100
                      description: 'Value written by the service provider, reporting the total elapsed time for the execution, including all the additional processing needed to retrieve the data from the backend service. Expressed in milliseconds'
                    backend-time:
                      schema:
                        type: integer
                        example: 850
                      description: 'Value written by the service provider, reporting the elapsed time for data retrieval from the backend (service invocation, database access…). Expressed in milliseconds'
                    life-cycle-state:
                      schema:
                        type: string
                        enum:
                          - 'EXPERIMENTAL'
                          - 'OPERATIONAL'
                          - 'DEPRECATED'
                          - 'OBSOLETE'
                          - 'UNKNOWN'
                          - 'NOT_YET_DEFINED'
                        example: 'EXPERIMENTAL'
                      description: 'Life cycle state of the consumed service'
                '4XX':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                '500':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                default:
                  $ref: '#/components/responses/responseForErroredServiceRequests'
          AddToDeactivationQueue: #[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-protocol]://[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/ip-address/ipv-4-address or /core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-address/domain-name]:[/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-tcp-c-aips-0-0-10-000/layer-protocol=0/tcp-client-interface-1-0:tcp-client-interface-pac/tcp-client-interface-configuration/remote-port][/core-model-1-4:control-construct/logical-termination-point=aips-0-0-10-op-c-is-aips-0-0-10-123/layer-protocol=0/operation-client-interface-1-0:operation-client-interface-pac/operation-client-interface-configuration/operation-name]
            # calls /v1/add-links-to-power-saving-deactivation-queue, repeated for each pair of (affectedLinkIdName, automationName) from RemoveFromActivationQueue
            post:
              parameters:
                - $ref: '#/components/parameters/user'
                - $ref: '#/components/parameters/originator'
                - $ref: '#/components/parameters/x-correlator'
                - $ref: '#/components/parameters/trace-indicator'
                - $ref: '#/components/parameters/customer-journey'
              requestBody:
                content:
                  application/json:
                    schema:
                      type: object
                      properties:
                        link-id-list:
                          type: array
                          items:
                            type: string
                          description: > 
                            'The respective list of linkIds (= automationName.affectedLinkIdList)
                            from {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.RemoveFromActivationQueue.request.body#link-id-list}'
                        automation-name:
                          type: string
                          description: > 
                            'The currently processed automationName
                            from {RequestForUnassigningAutomationFromAllLinksCausesListUpdateAndPersistentDeactivation.RemoveFromActivationQueue.request.body#automation-name}'
                        switching-operation-name:
                          type: string
                          description: >
                            'The switching operation name (PersistentDeactivation)'
                    example:
                      link-id-list:
                        - '101550001'
                        - '203550045'
                      automation-name: 'TimeBasedPowerSaving'
                      switching-operation-name: 'PersistentDeactivation'
              responses:
                '204':
                  description: 'Links added to PersistentDeactiviationQueue'
                  headers:
                    x-correlator:
                      schema:
                        type: string
                        example: '550e8400-e29b-11d4-a716-446655440000'
                      description: 'UUID for the service execution flow that allows to correlate requests and responses. Its value must be identical at the response compared with its corresponding request'
                    exec-time:
                      schema:
                        type: integer
                        example: 1100
                      description: 'Value written by the service provider, reporting the total elapsed time for the execution, including all the additional processing needed to retrieve the data from the backend service. Expressed in milliseconds'
                    backend-time:
                      schema:
                        type: integer
                        example: 850
                      description: 'Value written by the service provider, reporting the elapsed time for data retrieval from the backend (service invocation, database access…). Expressed in milliseconds'
                    life-cycle-state:
                      schema:
                        type: string
                        enum:
                          - 'EXPERIMENTAL'
                          - 'OPERATIONAL'
                          - 'DEPRECATED'
                          - 'OBSOLETE'
                          - 'UNKNOWN'
                          - 'NOT_YET_DEFINED'
                        example: 'EXPERIMENTAL'
                      description: 'Life cycle state of the consumed service'
                '4XX':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                '500':
                  $ref: '#/components/responses/responseForErroredServiceRequests'
                default:
                  $ref: '#/components/responses/responseForErroredServiceRequests'